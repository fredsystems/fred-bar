// ============================================
// System Tray
// ============================================

@use "../base/variables";

.tray {
  border: variables.$border-width-normal solid variables.$ctp-overlay1;
  box-shadow: variables.$shadow-inset-surface;
}

.tray-item {
  min-width: 24px;
  min-height: 24px;
  padding: 0;
  border-radius: variables.$radius-pill;
  background: transparent;
  border: variables.$border-width-normal solid transparent;
  box-shadow: inset 0 0 0 2px transparent;

  &:hover {
    background-color: variables.$ctp-maroon;
  }
}

// ============================================
// Tray Menu Popover
// ============================================

popover.tray-menu {
  background-color: transparent;
  border: none;
  padding: 0;
  margin: 0;
  margin-top: 32px;
  margin-left: -32px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);

  // ScrolledWindow (direct child)
  scrolledwindow {
    background-color: transparent;
    padding: 0;
    margin: 0;
    min-width: 0;
    min-height: 0;
    border: none;
  }

  // Viewport inside ScrolledWindow
  viewport {
    background-color: variables.$ctp-base;
    border: variables.$border-width-normal solid variables.$ctp-surface0;
    border-radius: variables.$radius-sm;
    padding: variables.$spacing-sm;
    margin: 0;
    min-width: 0;
    min-height: 0;
  }

  // Hide scrollbars
  scrollbar {
    opacity: 0;
    min-width: 0;
    min-height: 0;
  }

  // Menu items (modelbutton is GTK's internal widget)
  modelbutton {
    min-height: variables.$bar-height;
    padding: variables.$spacing-sm variables.$spacing-lg;
    border-radius: variables.$spacing-sm;
    color: variables.$ctp-text;
    background-color: transparent;
    border: none;
    font-weight: variables.$font-weight-normal;

    &:hover {
      background-color: variables.$ctp-surface0;
    }

    &:active {
      background-color: variables.$ctp-surface1;
    }

    // Submenu indicator
    &.has-open-popup {
      background-color: variables.$ctp-surface0;

      &:hover {
        background-color: variables.$ctp-surface1;
        color: variables.$ctp-mauve;
      }
    }
  }

  // Menu separators
  separator {
    min-height: 1px;
    margin: variables.$spacing-sm variables.$spacing-md;
    background-color: variables.$ctp-surface0;
  }

  // Menu labels
  label {
    color: variables.$ctp-text;
  }
}
